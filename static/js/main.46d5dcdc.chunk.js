(this["webpackJsonptodo-react-dnd"]=this["webpackJsonptodo-react-dnd"]||[]).push([[0],{46:function(e,t,n){e.exports=n(99)},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"addTodo",(function(){return u})),n.d(r,"deleteTodo",(function(){return s})),n.d(r,"editTodo",(function(){return p})),n.d(r,"completeTodo",(function(){return f})),n.d(r,"completeAllTodos",(function(){return m})),n.d(r,"updateListQuickly",(function(){return b})),n.d(r,"updateListUsual",(function(){return E})),n.d(r,"taskTransfer",(function(){return O}));var a=n(0),o=n.n(a),i=n(9),l=n(1),c=n(2);n(56);var d=function(){return o.a.createElement("h1",{className:"headline"},"todos")},u=function(e){return{type:"ADD_TODO",task:e}},s=function(e){return{type:"DELETE_TODO",id:e}},p=function(e,t){return{type:"EDIT_TODO",id:e,text:t}},f=function(e){return{type:"COMPLETE_TODO",id:e}},m=function(){return{type:"COMPLETE_ALL_TODOS"}},b=function(e){return{type:"UPDATE_LIST_QUICKLY",list:e}},E=function(e){return{type:"UPDATE_LIST_USUAL",list:e}},O=function(e){return{type:"TASK_TRANSFER",task:e}},h=n(10),g=n(11),T=n(13),v=n(12),y=n(14),k=(n(57),function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(T.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).handleKeyPress=function(e){var t=n.props,r=t.addTodo,a=t.itemId,o=e.target.value;13===e.keyCode&&(e.preventDefault(),""!==o&&/\S/.test(o)&&(e.target.value="",r({id:a+1,title:o,completed:!1})))},n}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("textarea",{wrap:"off",className:"main__input-area",placeholder:"What needs to be done?",onKeyDown:this.handleKeyPress})}}]),t}(a.Component));n(58);var _=function(e){var t=e.isAllChecked,n=e.completeAllTodos,r=t?"active":"";return o.a.createElement("div",{className:"checked-items ".concat(r),onClick:n},String.fromCharCode(709))},D=n(22),I=(n(59),function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(T.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).handleClickBtn=function(){var e=n.props;(0,e.onClickDelete)(e.id)},n}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"btnDel",onClick:this.handleClickBtn})}}]),t}(a.Component)),L=(n(60),function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(T.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={idEdit:0,valueBeforeEdit:""},n.handleClickCheckbox=function(){var e=n.props;(0,e.completeTodo)(e.todolist.id)},n.handleKeyPress=function(e){var t=n.props,r=t.deleteTodo,a=t.todolist,o=t.editTodo;if(13===e.keyCode){e.preventDefault();var i=e.target.value.trim();if(""===i)return r(a.id);""!==i&&/\S/.test(i)&&(e.target.value="",o(a.id,i),n.setState({idEdit:0}))}},n.handleInputBlur=function(e){var t=n.props,r=t.deleteTodo,a=t.todolist,o=t.editTodo,i=e.target.value.trim();if(""===i)return r(a.id);e.target.value="",o(a.id,i),n.setState({idEdit:0})},n.handleInputChange=function(e){n.setState({valueBeforeEdit:e.target.value})},n.handleDoubleClick=function(){var e=n.props.todolist;n.setState({idEdit:e.id,valueBeforeEdit:e.title})},n}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.idEdit,n=e.valueBeforeEdit,r=this.props,a=r.todolist,i=r.deleteTodo,l=a.completed,c=a.id===t;return o.a.createElement(o.a.Fragment,null,c?o.a.createElement("input",{type:"text",autoFocus:!0,className:"text-editing",value:n,onChange:this.handleInputChange,onKeyDown:this.handleKeyPress,onBlur:this.handleInputBlur}):o.a.createElement("div",{className:"listItemWrapper"},o.a.createElement("input",{type:"checkbox",id:a.id,checked:l,className:"list-checkbox",onChange:this.handleClickCheckbox}),o.a.createElement("label",{htmlFor:a.id}),o.a.createElement("span",{className:"task-list_text",onDoubleClick:this.handleDoubleClick},a.title),o.a.createElement(I,{onClickDelete:i,id:a.id})))}}]),t}(a.Component)),j=function(e,t,n){var r=Array.from(e),a=r.splice(t,1),o=Object(D.a)(a,1)[0];return r.splice(n,0,o),r},C=n(15),S=(n(61),function(e){var t=e.quicklyList,n=e.usualList,r=e.actions,i=r.deleteTodo,l=r.completeTodo,c=r.editTodo,d=r.updateListUsual,u=r.updateListQuickly,s=t.map((function(e,t){return o.a.createElement(C.b,{key:e.id,draggableId:e.id.toString(),index:t},(function(t,n){return o.a.createElement("li",Object.assign({key:e.id,className:n.isDragging?"list-item draggedItem":"list-item",ref:t.innerRef},t.draggableProps,t.dragHandleProps),o.a.createElement(L,{todolist:e,deleteTodo:i,completeTodo:l,editTodo:c}))}))})),p=n.map((function(e,t){return o.a.createElement(C.b,{key:e.id,draggableId:e.id.toString(),index:t},(function(t,n){return o.a.createElement("li",Object.assign({key:e.id,className:n.isDragging?"list-item draggedItem":"list-item",ref:t.innerRef},t.draggableProps,t.dragHandleProps),o.a.createElement(L,{todolist:e,deleteTodo:i,completeTodo:l,editTodo:c}))}))})),f=function(t){return"droppable1"===t?e.usualList:e.quicklyList},m=o.a.createElement("li",null,o.a.createElement("p",{className:"emptyListText"},"\u0422\u0443\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442"));return o.a.createElement(a.Fragment,null,o.a.createElement(C.a,{onDragEnd:function(e){var r=e.source,a=e.destination;if(a){if(r.droppableId===a.droppableId&&"droppable1"===r.droppableId){var o=j(n,r.index,a.index);d(o)}if(r.droppableId===a.droppableId&&"droppable2"===r.droppableId){var i=j(t,r.index,a.index);u(i)}if(r.droppableId!==a.droppableId){var l=function(e,t,n,r){var a=Array.from(e),o=Array.from(t),i=a.splice(n.index,1),l=Object(D.a)(i,1)[0];o.splice(r.index,0,l);var c={};return c[n.droppableId]=a,c[r.droppableId]=o,console.log(c),c}(f(r.droppableId),f(a.droppableId),r,a);u(l.droppable2),d(l.droppable1)}}}},o.a.createElement(C.c,{droppableId:"droppable1"},(function(e,t){return o.a.createElement("ul",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"main__task-list"}),0===p.length?m:p,e.placeholder)})),o.a.createElement(C.c,{droppableId:"droppable2"},(function(e,t){return o.a.createElement("ul",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"main__task-list"}),0===s.length?m:s,e.placeholder)}))))}),A=n(23),x=function(e){return e.todoUsual},N=Object(A.a)([x],(function(e){return e.filter((function(e){return!e.completed})).length})),P=Object(A.a)([x],(function(e){return 0!==e.filter((function(e){return e.completed})).length})),U=Object(A.a)([x,function(e){return e.todoQuickly}],(function(e,t){var n=0!==e.length?e.reduce((function(e,t){return e.id>t.id?e:t})).id:0,r=0!==t.length?t.reduce((function(e,t){return e.id>t.id?e:t})).id:0;return Math.max(n,r)})),w=Object(c.b)((function(e){return{todoList:e.todoUsual,countActiveItem:N(e),isCheckedExists:P(e),quicklyList:e.todoQuickly,usualList:e.todoUsual}}),(function(e){return{actions:Object(l.b)(r,e)}}))(S),B=(n(96),function(e){var t=e.usualList,n=e.quicklyList,r=e.isOpen,a=e.currentId,i=e.actions,l=i.addTodo,c=i.completeAllTodos,d=t.filter((function(e){return!e.completed})).length+n.filter((function(e){return!e.completed})).length;return o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"main__header"},r&&o.a.createElement(_,{completeAllTodos:c,isAllChecked:0===d}),o.a.createElement(k,{addTodo:l,itemId:a})),o.a.createElement("div",{className:"TaskListWrapper"},r&&o.a.createElement(w,null)))}),Q=Object(c.b)((function(e){return{isOpen:0!==e.todoUsual.length||0!==e.todoQuickly.length,currentId:U(e),quicklyList:e.todoQuickly,usualList:e.todoUsual}}),(function(e){return{actions:Object(l.b)(r,e)}}))(B);n(97);var K=function(){return o.a.createElement("section",{className:"todo-Page"},o.a.createElement(d,null),o.a.createElement(Q,null))},R=n(5),M=localStorage.getItem("todoApp-redux")?JSON.parse(localStorage.getItem("todoApp-redux")).todoQuickly:[];var q=n(45),F=localStorage.getItem("todoApp-redux")?JSON.parse(localStorage.getItem("todoApp-redux")).todoUsual:[];var J=Object(l.c)({todoUsual:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return[].concat(Object(q.a)(e),[t.task]);case"DELETE_TODO":return e.filter((function(e){return e.id!==t.id}));case"COMPLETE_ALL_TODOS":var n=e.every((function(e){return e.completed}));return e.map((function(e){return Object(R.a)({},e,{completed:!n})}));case"EDIT_TODO":return e.map((function(e){return e.id===t.id?Object(R.a)({},e,{title:t.text}):e}));case"COMPLETE_TODO":return e.map((function(e){return e.id===t.id?Object(R.a)({},e,{completed:!e.completed}):e}));case"UPDATE_LIST_USUAL":return t.list;default:return e}},todoQuickly:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_TODO":return e.filter((function(e){return e.id!==t.id}));case"COMPLETE_ALL_TODOS":var n=e.every((function(e){return e.completed}));return e.map((function(e){return Object(R.a)({},e,{completed:!n})}));case"EDIT_TODO":return e.map((function(e){return e.id===t.id?Object(R.a)({},e,{title:t.text}):e}));case"COMPLETE_TODO":return e.map((function(e){return e.id===t.id?Object(R.a)({},e,{completed:!e.completed}):e}));case"UPDATE_LIST_QUICKLY":return t.list;default:return e}}}),X=(n(98),Object(l.e)(J,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));X.subscribe((function(){localStorage.setItem("todoApp-redux",JSON.stringify(X.getState()))})),Object(i.render)(o.a.createElement(c.a,{store:X},o.a.createElement(K,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.46d5dcdc.chunk.js.map